/* 2023-8-11 09:34:00 | 版权所有 山维科技 http://www.sunwaysurvey.com.cn */
var parentGlobal=window.parent||window;function init(){mars3d.Util.webglreport()||mars3d.Util.webglerror(),mars3d.Util.fetchJson({url:"/config/config.json"}).then(function(n){console.log("读取 config.json 配置文件完成",n);n=(window.initMap||globalInitMap)(n.map3d);window.onMounted&&window.onMounted(n),window.initUI&&window.initUI(),mars3d.widget&&initWidget(n)}).catch(function(n){console.log("加载JSON出错",n),globalAlert(n?n.message:"加载JSON出错")})}function globalInitMap(n){return window.mapOptions&&("function"==typeof window.mapOptions?n=window.mapOptions(n)||n:window.mapOptions=n=mars3d.Util.merge(n,window.mapOptions)),new mars3d.Map("mars3dContainer",n)}function initWidget(n){mars3d.widget.init(n,{defaultOptions:{style:"dark",windowOptions:{skin:"layer-mars-dialog animation-scale-up",position:{bottom:50,left:10}}},openAtStart:[{name:"右上角工具栏",uri:"widgets/toolButton/menuBtn.js"}],widgets:[{name:"图层管理",uri:"widgets/manageLayers/widget.js",group:"forlayer",autoCenter:!0,windowOptions:{position:{top:10,bottom:40,left:50}},autoDisable:!1,disableOther:!1}]},"/")}function globalMsg(n){window.layer?window.layer.msg(n):window.toastr?window.toastr.info(n):window.alert(n)}function globalAlert(n,o){window.layer?window.layer.alert(n,{title:o||"提示",skin:"layui-layer-lan layer-mars-dialog",closeBtn:0,anim:0}):window.toastr?window.toastr.info(n,o):window.alert(n)}function globalNotify(n,o){window.toastr?window.toastr.warning(o,n):window.layer?window.layer.alert(o,{title:n||"提示",skin:"layui-layer-lan layer-mars-dialog",closeBtn:0,anim:0}):window.alert(o)}function showLoading(){haoutil.loading.show()}function hideLoading(){haoutil.loading.close()}parentGlobal.XE=XE;